---
version: 5
defaults:
  data_hash: "yaml_data"
hierarchy:
  - name: "private hiera"
    datadir: "/etc/puppetlabs/code/hieradata/private/%{environment}"
    paths: &paths
      - "node/%{fqdn}.yaml"
      - "site/%{site}/cluster/%{cluster}/variant/%{variant}/%{os.family}/major/%{os.release.major}.yaml"
      - "site/%{site}/cluster/%{cluster}/variant/%{variant}.yaml"
      - "site/%{site}/cluster/%{cluster}/role/%{role}.yaml"
      - "site/%{site}/cluster/%{cluster}.yaml"
      - "cluster/%{cluster}/variant/%{variant}/%{os.family}/major/%{os.release.major}.yaml"
      - "cluster/%{cluster}/variant/%{variant}.yaml"
      - "cluster/%{cluster}/role/%{role}.yaml"
      - "cluster/%{cluster}/osfamily/%{os.family}/major/%{os.release.major}.yaml"
      - "cluster/%{cluster}.yaml"
      - "site/%{site}/variant/%{variant}/%{os.family}/major/%{os.release.major}.yaml"
      - "site/%{site}/variant/%{variant}.yaml"
      - "site/%{site}/role/%{role}/osfamily/%{os.family}/major/%{os.release.major}.yaml"
      - "site/%{site}/role/%{role}.yaml"
      - "site/%{site}.yaml"
      - "role/%{role}/osfamily/%{os.family}/major/%{os.release.major}.yaml"
      - "role/%{role}.yaml"
      - "common/osfamily/%{os.family}/major/%{os.release.major}.yaml"
      - "common.yaml"
  - name: "public hiera"
    datadir: "/etc/puppetlabs/code/environments/%{environment}/hieradata"
    paths: *paths
