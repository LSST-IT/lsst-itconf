---
classes:
  - "profile::core::common"
  - "profile::core::debugutils"
  - "profile::core::disable_ipv6"
  - "profile::core::nm_dispatch"
  - "profile::core::perfsonar"
  - "profile::core::perfsonar::sysctl"
  - "network"
  - "ntp"
  - "sysctl::values"

# ensure chrony is not running
profile::core::common::manage_chrony: true
chrony::service_enable: false
chrony::service_ensure: "stopped"

firewall::ensure: "running"

files:
  # perfsonar packaging installs this one file with the wrong mode
  "/etc/sudoers.d/perfsonar_sudo":
    mode: "0440"
    require: "Class[Perfsonar]"

perfsonar::manage_pscheduler_agent: true
perfsonar::pscheduler_agent_config:
  remotes:
    - url: "http://pwa.ampath.net/pub/config/new-lsst-scl-lsc"
      configure-archives: true
