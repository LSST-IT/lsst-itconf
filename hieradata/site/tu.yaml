---
# IT Services Layout
# Network List at Cerro Pachon:
#       * 139.229.160.0/24 - General Services Servers
#       * 139.229.162.0/24 - Users' Network
#
# Services List
# Graylog Master                : 140.252.32.157
# InfluxDB Master               : 140.252.32.159
# Grafana                       : 140.252.32.158
# Puppet Master                 : 140.252.32.139
lookup_options:
  sudo::configs:
    merge:
      strategy: "deep"
  accounts::group_list:
    merge:
      strategy: "deep"
  accounts::user_list:
    merge:
      strategy: "deep"

chrony::servers:
  - "0.us.pool.ntp.org"
  - "1.us.pool.ntp.org"
  - "2.us.pool.ntp.org"

#=============================================================================
# Telegraf common configuration

telegraf::global_tags:
  service: "%{::service}"
  cluster: "%{::cluster}"
  device: "%{::device}"
  service_number: "%{::service_number}"
  device_number: "%{::device_number}"
  node_name: "%{::node_name}"
  datacenter: "%{::datacenter}"
  type: "%{::virtual}"
telegraf::interval: "1m"
telegraf::round_interval: true
telegraf::metric_batch_size: 1000
telegraf::metric_buffer_limit: 10000
telegraf::collection_jitter: "0s"
telegraf::flush_interval: "1m"
telegraf::flush_jitter: "0m"
telegraf::debug: false
telegraf::quiet: false
telegraf::hostname: ""
telegraf::omit_hostname: false

resolv_conf::nameservers:
  - "140.252.34.140"
  - "140.252.34.141"
  - "1.0.0.1"
resolv_conf::searchpath:
  - "tuc.lsst.cloud"
  - "tu.lsst.org"
  - "cp.lsst.org"
  - "ls.lsst.org"
  - "lsst.org"
  - "tuc.noao.edu"
  - "noao.edu"
