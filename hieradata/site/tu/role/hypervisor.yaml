---
accounts::user_list:
  # foreman role user to access libvirt over ssh
  foreman:
    groups:
      - "libvirt"
    managehome: true
    purge_sshkeys: true
    system: true
    sshkeys:
      - "ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQDGCCYvVfrd3RvPlGtXh+e3NWWw7OVzvIyX9jj1jT2omYt07gPv2nx9xgHqtkr1n39aezN4T2/9PuuCinN/dCOAmDd1J3lV+4rbWVUQD1o356ElxnVgdDm7RLwFfGjNW+WnVVOSXudZaO8wN6JqzG0SM21bmaIrT5b8pmXI9aafIEtnVhUKpVrqXOMQR8RNF9nvnzQulRkX7y/Kcy//a1v6/1lt4D+0Y5QaQujt04i8+QkcUBNe9sukjYWfzcPW9FpdJAiiydxwJl27f8OvJ4OMp1LJkB8lI5BLvJQpJ6u0DlfjkrSusDx60MSU3LQKP9TsaOW16b+/FqcHpkSpLGy/ foreman@foreman.tuc.lsst.cloud"
network::interfaces_hash:
  em1:  # fqdn
    bootproto: "none"
    defroute: "yes"
    dns1: "%{lookup('dhcp::nameservers.0')}"
    dns2: "%{lookup('dhcp::nameservers.1')}"
    domain: "%{lookup('dhcp::dnsdomain.0')}"
    gateway: "140.252.146.65"
    netmask: "255.255.255.224"
    nozeroconf: "yes"
    onboot: "yes"
    type: "Ethernet"
  em2:  # not connected
    bootproto: "none"
    onboot: "no"
    type: "Ethernet"
  p2p1:  # hypervisor
    bootproto: "none"
    onboot: "yes"
    type: "Ethernet"
  p2p2:  # not connected
    bootproto: "none"
    onboot: "no"
    type: "Ethernet"
  p2p1.3040: &vlan_int
    bootproto: "none"
    bridge: "br3040"
    nozeroconf: "yes"
    onboot: "yes"
    type: "none"
    vlan: "yes"
  p2p1.3085:
    <<: *vlan_int
    bridge: "br3085"
  br3040: &bridge_int  # coresvc
    bootproto: "none"
    onboot: "yes"
    type: "bridge"
  br3085:  # misc-dds
    <<: *bridge_int
