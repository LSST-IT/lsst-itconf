---
accounts::user_list:
  # foreman role user to access libvirt over ssh
  foreman:
    groups:
      - "libvirt"
    managehome: true
    system: true
    sshkeys:
      - "ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQCjbrCz3m21/gVUH34zoLsxzL1gYuVRNngZ5P6/3/Iw8LR0eMRmkqDZGDR27R91xQSQ4iazP35yeeWH18y+GLUXgfskjYpwqHZ+JBhnaYBoAUaogXYw2FGZAlvjtKZlFclSXu16jKq5sF0woDC6KBxRJuu24EuL2QY9pGPReFGNwgYmruhIDeRZpj/vy7+2+L/hqXTcq42xRMUYRLomR8C7LXkZvrH59QuWYh71Nsx8Qko901c/qpgEynu4ZQFOrSVRgEWPls/Y/aWSAT1k68tGaFQ+W0CP7CA2pbR+ZjcxbodXMoOwxUgHbhR3SwNpGeKEtKh4Csd5e6pgIskW2kX7 root@foreman.tuc.lsst.cloud"
network::interfaces_hash:
  em1:  # fqdn
    bootproto: "none"
    defroute: "yes"
    dns1: "%{lookup('dhcp::nameservers.0')}"
    dns2: "%{lookup('dhcp::nameservers.1')}"
    domain: "%{lookup('dhcp::dnsdomain.0')}"
    gateway: "140.252.35.1"
    netmask: "255.255.255.128"
    nozeroconf: "yes"
    onboot: "yes"
    type: "Ethernet"
  em2:  # not connected
    bootproto: "none"
    onboot: "no"
    type: "Ethernet"
  p2p1:  # hypervisor
    bootproto: "none"
    onboot: "yes"
    type: "Ethernet"
  p2p2:  # not connected
    bootproto: "none"
    onboot: "no"
    type: "Ethernet"
  p2p1.700: &vlan_int
    bootproto: "none"
    onboot: "yes"
    vlan: "yes"
    bridge: "br700"
    type: "none"
    nozeroconf: "yes"
  p2p1.800:
    <<: *vlan_int
    bridge: "br800"
  p2p1.801:
    <<: *vlan_int
    bridge: "br801"
  p2p1.3040:
    <<: *vlan_int
    bridge: "br3040"
  br700: &bridge_int  # old auxtel - keep until pontus is moved to rm101
    bootproto: "none"
    onboot: "yes"
    type: "bridge"
  br800:  # old svc
    <<: *bridge_int
  br801:  # old mgt
    <<: *bridge_int
  br3040:  # coresvc
    <<: *bridge_int
