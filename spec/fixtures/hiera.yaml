---
version: 5
defaults:
  data_hash: "yaml_data"
hierarchy:
  - name: "private hiera"
    datadir: "./hieradata"
    paths:
      - "role-only.yaml"
      - "common.yaml"
  - name: "public hiera"
    datadir: "../../hieradata"
    paths:
      - "node/%{fqdn}.yaml"
      - "site/%{site}/cluster/%{cluster}/site/%{site}/variant/%{variant}/subvariant/%{subvariant}/%{os.family}/major/%{os.release.major}.yaml"
      - "site/%{site}/cluster/%{cluster}/site/%{site}/variant/%{variant}/subvariant/%{subvariant}.yaml"
      - "site/%{site}/cluster/%{cluster}/variant/%{variant}/%{os.family}/major/%{os.release.major}.yaml"
      - "site/%{site}/cluster/%{cluster}/variant/%{variant}.yaml"
      - "site/%{site}/cluster/%{cluster}/role/%{role}.yaml"
      - "site/%{site}/cluster/%{cluster}.yaml"

      - "cluster/%{cluster}/site/%{site}/variant/%{variant}/subvariant/%{subvariant}/%{os.family}/major/%{os.release.major}.yaml"
      - "cluster/%{cluster}/site/%{site}/variant/%{variant}/subvariant/%{subvariant}.yaml"
      - "cluster/%{cluster}/variant/%{variant}/%{os.family}/major/%{os.release.major}.yaml"
      - "cluster/%{cluster}/variant/%{variant}.yaml"
      - "cluster/%{cluster}/role/%{role}.yaml"
      - "cluster/%{cluster}/osfamily/%{os.family}/major/%{os.release.major}.yaml"
      - "cluster/%{cluster}.yaml"
      - "site/%{site}/variant/%{variant}/subvariant/%{subvariant}/%{os.family}/major/%{os.release.major}.yaml"
      - "site/%{site}/variant/%{variant}/subvariant/%{subvariant}.yaml"
      - "site/%{site}/variant/%{variant}/%{os.family}/major/%{os.release.major}.yaml"
      - "site/%{site}/variant/%{variant}.yaml"
      - "site/%{site}/role/%{role}/osfamily/%{os.family}/major/%{os.release.major}.yaml"
      - "site/%{site}/role/%{role}.yaml"
      - "site/%{site}.yaml"
      - "role/%{role}/osfamily/%{os.family}/major/%{os.release.major}.yaml"
      - "role/%{role}.yaml"
      - "common/osfamily/%{os.family}/major/%{os.release.major}.yaml"
      - "common.yaml"
